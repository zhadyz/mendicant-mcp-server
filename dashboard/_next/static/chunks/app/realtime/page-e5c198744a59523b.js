(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{10298:(e,t,s)=>{Promise.resolve().then(s.bind(s,53176))},53176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(95155),n=s(12115);function a(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(null),a=function(e){let[t,s]=(0,n.useState)({connected:!1,error:null,reconnecting:!1}),r=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useRef)(0),o=(0,n.useCallback)(()=>{try{r.current&&r.current.close();let t=new EventSource(e.url);r.current=t,t.onopen=t=>{var r;s({connected:!0,error:null,reconnecting:!1}),l.current=0,null==(r=e.onOpen)||r.call(e,t)},t.onmessage=t=>{var s;null==(s=e.onMessage)||s.call(e,t)},t.onerror=t=>{var r;if(s(e=>({...e,connected:!1,error:Error("SSE connection error")})),null==(r=e.onError)||r.call(e,t),!1!==e.reconnect){s(e=>({...e,reconnecting:!0})),l.current++;let t=Math.min(1e3*Math.pow(2,l.current),e.reconnectInterval||5e3);a.current=setTimeout(()=>{o()},t)}}}catch(e){s({connected:!1,error:e,reconnecting:!1})}},[e]),i=(0,n.useCallback)(()=>{a.current&&clearTimeout(a.current),r.current&&(r.current.close(),r.current=null),s({connected:!1,error:null,reconnecting:!1})},[]);return(0,n.useEffect)(()=>(o(),()=>{i()}),[o,i]),{...t,reconnect:o,disconnect:i}}({url:"http://localhost:3001/events",onMessage:(0,n.useCallback)(e=>{try{let s=JSON.parse(e.data);if(s.type&&s.payload){let e={type:s.type,payload:s.payload};t(t=>{let s=[...t,e];return s.length>1e3?s.slice(-1e3):s})}}catch(e){console.error("Failed to parse SSE message:",e)}},[]),reconnect:!0,reconnectInterval:5e3}),l=(0,n.useCallback)(()=>{t([])},[]);return{events:s?e.filter(e=>e.type===s):e,allEvents:e,connected:a.connected,error:a.error,reconnecting:a.reconnecting,filter:s,setFilter:r,clearEvents:l,reconnect:a.reconnect,disconnect:a.disconnect}}var l=function(e){return e.PLAN_STARTED="plan:started",e.PLAN_COMPLETED="plan:completed",e.PLAN_FAILED="plan:failed",e.AGENT_SELECTION_STARTED="agent:selection_started",e.AGENT_SELECTED="agent:selected",e.AGENT_SCORED="agent:scored",e.EXECUTION_STARTED="execution:started",e.EXECUTION_COMPLETED="execution:completed",e.EXECUTION_FAILED="execution:failed",e.AGENT_EXECUTION_STARTED="agent:execution_started",e.AGENT_EXECUTION_COMPLETED="agent:execution_completed",e.AGENT_EXECUTION_FAILED="agent:execution_failed",e.AGENT_THINKING="agent:thinking",e.AGENT_TOOL_USE="agent:tool_use",e.AGENT_TOOL_RESULT="agent:tool_result",e.COORDINATION_STARTED="coordination:started",e.COORDINATION_COMPLETED="coordination:completed",e.ANALYSIS_STARTED="analysis:started",e.ANALYSIS_COMPLETED="analysis:completed",e.RETRY_ATTEMPT="retry:attempt",e.RETRY_FALLBACK="retry:fallback",e.RETRY_EXHAUSTED="retry:exhausted",e.MAHORAGA_PREDICTION="mahoraga:prediction",e.MAHORAGA_PATTERN_MATCH="mahoraga:pattern_match",e.MAHORAGA_FAILURE_ANALYSIS="mahoraga:failure_analysis",e.SAFETY_CHECK="safety:check",e.CONSTRAINT_VIOLATION="constraint:violation",e.MEMORY_QUERY="memory:query",e.MEMORY_STORE="memory:store",e}({});function o(e){return(0,n.useMemo)(()=>{let t={totalExecutions:0,successfulExecutions:0,failedExecutions:0,successRate:0,totalAgentsExecuted:0,totalTokensUsed:0,averageExecutionTime:0,totalPlanningTime:0,totalCoordinationTime:0,agentPerformance:{},eventCounts:{},recentTrends:{lastHourSuccess:0,last24HourSuccess:0,avgTokensPerHour:0}},s=[],r=[],n=[],a=Date.now(),o=a-36e5,i=a-864e5,c=0,d=0,x=0;return e.forEach(e=>{if(t.eventCounts[e.type]=(t.eventCounts[e.type]||0)+1,e.type===l.EXECUTION_STARTED&&t.totalExecutions++,e.type===l.EXECUTION_COMPLETED&&(t.successfulExecutions++,e.payload.timestamp>=o&&c++,e.payload.timestamp>=i&&d++),e.type===l.EXECUTION_FAILED&&t.failedExecutions++,e.type===l.AGENT_EXECUTION_COMPLETED){let r=e.payload;t.totalAgentsExecuted++,t.agentPerformance[r.agent_id]||(t.agentPerformance[r.agent_id]={executions:0,successes:0,failures:0,successRate:0,totalTokens:0,avgDuration:0});let n=t.agentPerformance[r.agent_id];n.executions++,r.success?n.successes++:n.failures++,n.successRate=n.successes/n.executions,r.tokens_used&&(n.totalTokens+=r.tokens_used,t.totalTokensUsed+=r.tokens_used,e.payload.timestamp>=o&&(x+=r.tokens_used)),r.duration_ms&&(s.push(r.duration_ms),n.avgDuration=(n.avgDuration*(n.executions-1)+r.duration_ms)/n.executions)}if(e.type===l.AGENT_EXECUTION_FAILED){let r=e.payload;t.totalAgentsExecuted++,t.agentPerformance[r.agent_id]||(t.agentPerformance[r.agent_id]={executions:0,successes:0,failures:0,successRate:0,totalTokens:0,avgDuration:0});let n=t.agentPerformance[r.agent_id];n.executions++,n.failures++,n.successRate=n.successes/n.executions,r.duration_ms&&s.push(r.duration_ms)}if(e.type===l.PLAN_COMPLETED){let s=e.payload;s.duration_ms&&(r.push(s.duration_ms),t.totalPlanningTime+=s.duration_ms)}e.type===l.COORDINATION_COMPLETED&&(e.payload,n.push(500),t.totalCoordinationTime+=500)}),s.length>0&&(t.averageExecutionTime=s.reduce((e,t)=>e+t,0)/s.length),t.totalExecutions>0&&(t.successRate=t.successfulExecutions/t.totalExecutions),t.recentTrends.lastHourSuccess=c,t.recentTrends.last24HourSuccess=d,t.recentTrends.avgTokensPerHour=x,t},[e])}let i={[l.PLAN_STARTED]:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",glow:"shadow-blue-500/20",icon:"\uD83D\uDCCB"},[l.PLAN_COMPLETED]:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",glow:"shadow-blue-500/20",icon:"✓"},[l.PLAN_FAILED]:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",glow:"shadow-red-500/20",icon:"✗"},[l.AGENT_SELECTION_STARTED]:{bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",glow:"shadow-purple-500/20",icon:"\uD83D\uDD0D"},[l.AGENT_SCORED]:{bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",glow:"shadow-purple-500/20",icon:"\uD83D\uDCCA"},[l.AGENT_SELECTED]:{bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",glow:"shadow-purple-500/20",icon:"\uD83D\uDC64"},[l.EXECUTION_STARTED]:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",glow:"shadow-green-500/20",icon:"▶"},[l.EXECUTION_COMPLETED]:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",glow:"shadow-green-500/20",icon:"✓"},[l.EXECUTION_FAILED]:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",glow:"shadow-red-500/20",icon:"✗"},[l.AGENT_EXECUTION_STARTED]:{bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400",glow:"shadow-cyan-500/20",icon:"⚡"},[l.AGENT_EXECUTION_COMPLETED]:{bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400",glow:"shadow-cyan-500/20",icon:"✓"},[l.AGENT_EXECUTION_FAILED]:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",glow:"shadow-red-500/20",icon:"✗"},[l.AGENT_THINKING]:{bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400",glow:"shadow-emerald-500/20",icon:"\uD83D\uDCAD"},[l.AGENT_TOOL_USE]:{bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400",glow:"shadow-emerald-500/20",icon:"\uD83D\uDD27"},[l.AGENT_TOOL_RESULT]:{bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400",glow:"shadow-emerald-500/20",icon:"\uD83D\uDCC4"},[l.COORDINATION_STARTED]:{bg:"bg-indigo-500/10",border:"border-indigo-500/30",text:"text-indigo-400",glow:"shadow-indigo-500/20",icon:"\uD83D\uDD04"},[l.COORDINATION_COMPLETED]:{bg:"bg-indigo-500/10",border:"border-indigo-500/30",text:"text-indigo-400",glow:"shadow-indigo-500/20",icon:"✓"},[l.ANALYSIS_STARTED]:{bg:"bg-violet-500/10",border:"border-violet-500/30",text:"text-violet-400",glow:"shadow-violet-500/20",icon:"\uD83D\uDD2C"},[l.ANALYSIS_COMPLETED]:{bg:"bg-violet-500/10",border:"border-violet-500/30",text:"text-violet-400",glow:"shadow-violet-500/20",icon:"✓"},[l.RETRY_ATTEMPT]:{bg:"bg-orange-500/10",border:"border-orange-500/30",text:"text-orange-400",glow:"shadow-orange-500/20",icon:"\uD83D\uDD01"},[l.RETRY_FALLBACK]:{bg:"bg-orange-500/10",border:"border-orange-500/30",text:"text-orange-400",glow:"shadow-orange-500/20",icon:"↩"},[l.RETRY_EXHAUSTED]:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",glow:"shadow-red-500/20",icon:"⚠"},[l.MAHORAGA_PREDICTION]:{bg:"bg-pink-500/10",border:"border-pink-500/30",text:"text-pink-400",glow:"shadow-pink-500/20",icon:"\uD83E\uDDE0"},[l.MAHORAGA_PATTERN_MATCH]:{bg:"bg-pink-500/10",border:"border-pink-500/30",text:"text-pink-400",glow:"shadow-pink-500/20",icon:"\uD83C\uDFAF"},[l.MAHORAGA_FAILURE_ANALYSIS]:{bg:"bg-pink-500/10",border:"border-pink-500/30",text:"text-pink-400",glow:"shadow-pink-500/20",icon:"\uD83D\uDD0D"},[l.SAFETY_CHECK]:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",glow:"shadow-yellow-500/20",icon:"\uD83D\uDEE1"},[l.CONSTRAINT_VIOLATION]:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",glow:"shadow-yellow-500/20",icon:"⚠"},[l.MEMORY_QUERY]:{bg:"bg-teal-500/10",border:"border-teal-500/30",text:"text-teal-400",glow:"shadow-teal-500/20",icon:"\uD83D\uDCBE"},[l.MEMORY_STORE]:{bg:"bg-teal-500/10",border:"border-teal-500/30",text:"text-teal-400",glow:"shadow-teal-500/20",icon:"\uD83D\uDCBE"}};function c(e){return e.startsWith("plan:")?"Planning":e.startsWith("agent:")?e.includes("selection")?"Agent Selection":e.includes("execution")?"Agent Execution":e===l.AGENT_THINKING||e===l.AGENT_TOOL_USE||e===l.AGENT_TOOL_RESULT?"Agent Activity":"Agent":e.startsWith("execution:")?"Execution":e.startsWith("coordination:")?"Coordination":e.startsWith("analysis:")?"Analysis":e.startsWith("retry:")?"Retry":e.startsWith("mahoraga:")?"Mahoraga":e.startsWith("safety:")?"Safety":e.startsWith("constraint:")?"Constraints":e.startsWith("memory:")?"Memory":"System"}function d(e){if(e<1e3)return"".concat(e,"ms");if(e<6e4)return"".concat((e/1e3).toFixed(2),"s");let t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return"".concat(t,"m ").concat(s,"s")}function x(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString()}function u(e){return"".concat((100*e).toFixed(1),"%")}function g(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function m(e){let{event:t}=e,[s,a]=(0,n.useState)(!1),o=i[t.type]||{bg:"bg-gray-500/10",border:"border-gray-500/30",text:"text-gray-400",glow:"shadow-gray-500/20",icon:"•"},d=c(t.type);return(0,r.jsxs)("div",{className:"\n        group relative p-3 rounded-lg border transition-all duration-200\n        ".concat(o.bg," ").concat(o.border," hover:").concat(o.bg.replace("/10","/20"),"\n        cursor-pointer\n      "),onClick:()=>a(!s),children:[(0,r.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg ".concat(o.glow," shadow-lg")}),(0,r.jsxs)("div",{className:"relative flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 text-lg",children:o.icon}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded ".concat(o.text),children:d}),(0,r.jsx)("span",{className:"text-xs text-gray-400 font-mono",children:t.type})]})}),(0,r.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:function(e){let t=new Date(e),s=new Date().getTime()-t.getTime();if(s<6e4)return"Just now";if(s<36e5){let e=Math.floor(s/6e4);return"".concat(e,"m ago")}if(s<864e5){let e=Math.floor(s/36e5);return"".concat(e,"h ago")}return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}(t.payload.timestamp)})]}),t.payload.objective&&(0,r.jsx)("div",{className:"text-sm text-neutral-700 mb-1",children:g(t.payload.objective,s?500:100)}),t.payload.session_id&&(0,r.jsxs)("div",{className:"text-xs text-neutral-500 font-mono",children:["Session: ",t.payload.session_id.slice(0,8)]}),s&&(()=>{let{timestamp:e,session_id:n,objective:a,...o}=t.payload;if(t.type===l.AGENT_THINKING&&"thinking"in t.payload){let e;return e=t.payload.thinking,(0,r.jsxs)("div",{className:"mt-2 p-3 bg-neutral-50 rounded border border-neutral-200",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-primary-600 mb-2",children:"Agent Thinking"}),(0,r.jsx)("div",{className:"text-sm text-neutral-700 whitespace-pre-wrap font-mono",children:s?e:g(e,200)})]})}if(t.type===l.AGENT_TOOL_USE&&"tool_name"in t.payload){let e,n;return e=t.payload.tool_name,n=t.payload.tool_input,(0,r.jsxs)("div",{className:"mt-2 p-3 bg-neutral-50 rounded border border-neutral-200",children:[(0,r.jsxs)("div",{className:"text-xs font-semibold text-primary-600 mb-2",children:["Tool: ",(0,r.jsx)("span",{className:"text-accent-600",children:e})]}),s&&n&&(0,r.jsx)("pre",{className:"text-xs text-neutral-700 overflow-x-auto",children:JSON.stringify(n,null,2)})]})}if(t.type===l.AGENT_TOOL_RESULT&&"result"in t.payload){var i=t.payload.result;let e="string"==typeof i?i:JSON.stringify(i,null,2);return(0,r.jsxs)("div",{className:"mt-2 p-3 bg-neutral-50 rounded border border-neutral-200",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-primary-600 mb-2",children:"Tool Result"}),(0,r.jsx)("div",{className:"text-xs text-neutral-700 whitespace-pre-wrap font-mono max-h-60 overflow-y-auto",children:s?e:g(e,150)})]})}let c=Object.entries(o);return 0===c.length?null:(0,r.jsx)("div",{className:"mt-2 space-y-1 text-xs",children:c.map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("span",{className:"text-neutral-600 font-mono",children:[t,":"]}),(0,r.jsx)("span",{className:"text-neutral-700 font-mono",children:"object"==typeof s?JSON.stringify(s,null,2):String(s)})]},t)})})})()]}),(0,r.jsx)("div",{className:"flex-shrink-0 text-neutral-500 transition-transform ".concat(s?"rotate-180":""),children:"▼"})]})]})}function p(e){let{selectedFilter:t,onFilterChange:s,eventCounts:n}=e;return(0,r.jsx)("div",{className:"flex gap-2 flex-wrap",children:["All Events","Planning","Agent Selection","Execution","Agent Execution","Coordination","Analysis","Retry","Mahoraga","Safety","Memory"].map(e=>{let a="All Events"===e?Object.values(n).reduce((e,t)=>e+t,0):Object.entries(n).filter(t=>{let[s]=t;return c(s)===e}).reduce((e,t)=>{let[,s]=t;return e+s},0),l="All Events"===e&&null===t;return(0,r.jsxs)("button",{onClick:()=>s(null),className:"\n              px-3 py-1.5 rounded-lg text-xs font-medium transition-all\n              ".concat(l?"bg-primary-600 text-white shadow-soft":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200 hover:text-neutral-900","\n            "),children:[e,(0,r.jsxs)("span",{className:"ml-2 opacity-70",children:["(",a,")"]})]},e)})})}function b(){let{events:e,allEvents:t,connected:s,error:l,reconnecting:i,filter:c,setFilter:d,clearEvents:x,reconnect:u}=a(),g=o(t),b=(0,n.useRef)(null);return(0,n.useEffect)(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[e]),(0,r.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border border-neutral-200 shadow-soft",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Event Stream"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-xs font-medium text-green-600",children:"Connected"})]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-accent-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-xs font-medium text-accent-600",children:"Reconnecting..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,r.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Disconnected"})]})}),(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:[e.length," events"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!s&&!i&&(0,r.jsx)("button",{onClick:u,className:"px-3 py-1.5 text-xs font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Reconnect"}),(0,r.jsx)("button",{onClick:x,className:"px-3 py-1.5 text-xs font-medium bg-neutral-200 hover:bg-neutral-300 text-neutral-700 rounded-lg transition-colors",children:"Clear"})]})]}),(0,r.jsx)("div",{className:"p-4 border-b border-neutral-200",children:(0,r.jsx)(p,{selectedFilter:c,onFilterChange:d,eventCounts:g.eventCounts})}),l&&(0,r.jsx)("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-red-700",children:["Connection error: ",l.message]})}),(0,r.jsx)("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-2",style:{maxHeight:"calc(100vh - 400px)"},children:0===e.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-neutral-500",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCE1"}),(0,r.jsx)("p",{className:"text-sm",children:"Waiting for events..."}),!s&&(0,r.jsx)("p",{className:"text-xs mt-2",children:"Not connected to event stream"})]}):e.map((e,t)=>(0,r.jsx)(m,{event:e},"".concat(e.payload.timestamp,"-").concat(t)))})]})}let h={blue:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",glow:"shadow-blue-500/20"},green:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",glow:"shadow-green-500/20"},purple:{bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",glow:"shadow-purple-500/20"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/30",text:"text-orange-400",glow:"shadow-orange-500/20"},pink:{bg:"bg-pink-500/10",border:"border-pink-500/30",text:"text-pink-400",glow:"shadow-pink-500/20"},cyan:{bg:"bg-cyan-500/10",border:"border-cyan-500/30",text:"text-cyan-400",glow:"shadow-cyan-500/20"}};function N(e){let{title:t,value:s,subtitle:n,icon:a,trend:l,color:o="purple",children:i}=e,c=h[o];return(0,r.jsxs)("div",{className:"\n        relative p-4 rounded-xl border transition-all duration-200\n        ".concat(c.bg," ").concat(c.border," hover:").concat(c.bg.replace("/10","/20"),"\n        group\n      "),children:[(0,r.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl ".concat(c.glow," shadow-lg")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,r.jsx)("span",{className:"text-2xl",children:a}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:t})]}),l&&(0,r.jsxs)("div",{className:"\n                text-xs font-medium px-2 py-1 rounded\n                ".concat("up"===l.direction?"text-green-400 bg-green-500/10":"down"===l.direction?"text-red-400 bg-red-500/10":"text-gray-400 bg-gray-500/10","\n              "),children:["up"===l.direction?"↗":"down"===l.direction?"↘":"→"," ",Math.abs(l.value),"%"]})]}),(0,r.jsx)("div",{className:"text-3xl font-bold mb-1 ".concat(c.text),children:s}),n&&(0,r.jsx)("div",{className:"text-xs text-gray-500",children:n}),i&&(0,r.jsx)("div",{className:"mt-3",children:i})]})]})}let f={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",pink:"bg-pink-500"};function E(e){let{value:t,max:s=100,label:n,color:a="purple",showPercentage:l=!0}=e,o=Math.min(t/s*100,100);return(0,r.jsxs)("div",{className:"space-y-2",children:[n&&(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-400",children:n}),l&&(0,r.jsxs)("span",{className:"text-gray-500",children:[o.toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"relative h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 ".concat(f[a]," transition-all duration-500 ease-out rounded-full"),style:{width:"".concat(o,"%")},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})})})]})}function j(){let{allEvents:e}=a(),t=o(e),s=Object.entries(t.agentPerformance).sort((e,t)=>t[1].executions-e[1].executions).slice(0,5);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900",children:"Live Metrics"}),(0,r.jsx)("span",{className:"text-xs text-neutral-500",children:"Updated in real-time"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(N,{title:"Total Executions",value:t.totalExecutions,icon:"▶",color:"blue",subtitle:"".concat(t.successfulExecutions," successful")}),(0,r.jsx)(N,{title:"Success Rate",value:u(t.successRate),icon:"✓",color:"green",subtitle:"".concat(t.failedExecutions," failed"),children:(0,r.jsx)(E,{value:100*t.successRate,color:"green",showPercentage:!1})}),(0,r.jsx)(N,{title:"Total Agents",value:t.totalAgentsExecuted,icon:"\uD83D\uDC65",color:"purple",subtitle:"".concat(Object.keys(t.agentPerformance).length," unique agents")}),(0,r.jsx)(N,{title:"Total Tokens",value:x(t.totalTokensUsed),icon:"\uD83D\uDC8E",color:"cyan",subtitle:"Across all executions"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(N,{title:"Avg Execution Time",value:d(t.averageExecutionTime),icon:"⏱",color:"orange"}),(0,r.jsx)(N,{title:"Planning Time",value:d(t.totalPlanningTime),icon:"\uD83D\uDCCB",color:"blue"}),(0,r.jsx)(N,{title:"Coordination Time",value:d(t.totalCoordinationTime),icon:"\uD83D\uDD04",color:"purple"})]}),s.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-soft p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-600 mb-4",children:"Top Performing Agents"}),(0,r.jsx)("div",{className:"space-y-3",children:s.map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-neutral-900",children:t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:[s.executions," runs"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-xs text-neutral-600",children:[u(s.successRate)," success"]}),(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:[x(s.totalTokens)," tokens"]})]})]}),(0,r.jsx)(E,{value:100*s.successRate,color:s.successRate>.8?"green":s.successRate>.5?"orange":"pink",showPercentage:!1})]},t)})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(N,{title:"Last Hour",value:t.recentTrends.lastHourSuccess,icon:"\uD83D\uDD50",color:"green",subtitle:"Successful executions"}),(0,r.jsx)(N,{title:"Last 24 Hours",value:t.recentTrends.last24HourSuccess,icon:"\uD83D\uDCC5",color:"blue",subtitle:"Successful executions"}),(0,r.jsx)(N,{title:"Tokens/Hour",value:x(t.recentTrends.avgTokensPerHour),icon:"⚡",color:"purple",subtitle:"Recent usage rate"})]})]})}let v={idle:{label:"Idle",color:"text-gray-400 bg-gray-500/10 border-gray-500/30",icon:"○"},pending:{label:"Pending",color:"text-yellow-400 bg-yellow-500/10 border-yellow-500/30",icon:"⏳"},running:{label:"Running",color:"text-cyan-400 bg-cyan-500/10 border-cyan-500/30 animate-pulse",icon:"⚡"},completed:{label:"Completed",color:"text-green-400 bg-green-500/10 border-green-500/30",icon:"✓"},failed:{label:"Failed",color:"text-red-400 bg-red-500/10 border-red-500/30",icon:"✗"}},T={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};function y(e){let{status:t,size:s="md"}=e,n=v[t];return(0,r.jsxs)("div",{className:"\n        inline-flex items-center gap-2 rounded-lg border font-medium\n        ".concat(n.color," ").concat(T[s],"\n      "),children:[(0,r.jsx)("span",{children:n.icon}),(0,r.jsx)("span",{children:n.label})]})}function w(e){let{agents:t,currentAgent:s}=e;return 0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDC65"}),(0,r.jsx)("p",{className:"text-sm",children:"No agents in queue"})]}):(0,r.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>{let n=e.agent_id===s;return(0,r.jsxs)("div",{className:"\n              relative p-3 rounded-lg border transition-all duration-200\n              ".concat(n?"bg-cyan-500/10 border-cyan-500/30 ring-2 ring-cyan-500/20":"completed"===e.status?"bg-green-500/5 border-green-500/20":"failed"===e.status?"bg-red-500/5 border-red-500/20":"bg-gray-800/30 border-gray-700/30","\n            "),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-white",children:e.agent_id.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),n&&(0,r.jsx)("span",{className:"text-xs text-cyan-400 animate-pulse",children:"Currently executing"})]}),e.task_description&&(0,r.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2",children:e.task_description})]}),(0,r.jsx)(y,{status:e.status,size:"sm"})]}),n&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-800 overflow-hidden rounded-b-lg",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 animate-shimmer-slow"})})]},"".concat(e.agent_id,"-").concat(t))})})}function _(){var e;let{allEvents:t}=a(),s=(0,n.useMemo)(()=>{let e={isExecuting:!1,objective:null,sessionId:null,startTime:null,currentAgent:null,agentQueue:[],progress:{completed:0,total:0,percentage:0},stats:{successfulAgents:0,failedAgents:0,totalTokens:0,elapsedTime:0}},s=-1,r=-1;for(let e=t.length-1;e>=0;e--){let n=t[e];if((n.type===l.EXECUTION_COMPLETED||n.type===l.EXECUTION_FAILED)&&(r=e),n.type===l.EXECUTION_STARTED){s=e;break}}if(-1!==s&&r<s){e.isExecuting=!0;let r=t[s].payload;e.objective=r.objective||null,e.sessionId=r.session_id||null,e.startTime=r.timestamp,e.progress.total=r.agent_count||0,e.startTime&&(e.elapsedTime=Date.now()-e.startTime);let n=new Map;for(let r=s+1;r<t.length;r++){let s=t[r];if(s.type===l.AGENT_EXECUTION_STARTED){let t=s.payload;n.set(t.agent_id,{agent_id:t.agent_id,status:"running",task_description:t.task_description}),e.currentAgent=t.agent_id}if(s.type===l.AGENT_EXECUTION_COMPLETED){let t=s.payload,r=n.get(t.agent_id);r&&(r.status=t.success?"completed":"failed"),t.success?e.stats.successfulAgents++:e.stats.failedAgents++,t.tokens_used&&(e.stats.totalTokens+=t.tokens_used),e.progress.completed++}if(s.type===l.AGENT_EXECUTION_FAILED){let t=s.payload,r=n.get(t.agent_id);r&&(r.status="failed"),e.stats.failedAgents++,e.progress.completed++}}e.agentQueue=Array.from(n.values()),e.progress.total>0&&(e.progress.percentage=e.progress.completed/e.progress.total*100)}return e},[t]),[o,i]=(0,n.useState)(0);return((0,n.useEffect)(()=>{if(!s.isExecuting||!s.startTime)return;let e=setInterval(()=>{i(Date.now()-s.startTime)},1e3);return()=>clearInterval(e)},[s.isExecuting,s.startTime]),s.isExecuting)?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-medium overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-neutral-900",children:"Active Execution"}),(0,r.jsx)(y,{status:"running",size:"lg"})]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:["Session: ",(0,r.jsx)("span",{className:"font-mono",children:null==(e=s.sessionId)?void 0:e.slice(0,12)})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-right",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600",children:"Elapsed"}),(0,r.jsx)("div",{className:"text-lg font-bold text-accent-600",children:d(o)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600",children:"Progress"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-primary-600",children:[s.progress.completed,"/",s.progress.total]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600",children:"Tokens"}),(0,r.jsx)("div",{className:"text-lg font-bold text-primary-600",children:x(s.stats.totalTokens)})]})]})]}),s.objective&&(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 mb-4 border border-neutral-200",children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600 mb-1",children:"Objective"}),(0,r.jsx)("p",{className:"text-neutral-900 leading-relaxed",children:g(s.objective,200)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-neutral-600",children:"Overall Progress"}),(0,r.jsxs)("span",{className:"text-neutral-900 font-mono",children:[s.progress.percentage.toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"relative h-3 bg-neutral-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 bg-primary-600 transition-all duration-500 ease-out rounded-full",style:{width:"".concat(s.progress.percentage,"%")}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600 mb-1",children:"Successful"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.stats.successfulAgents})]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,r.jsx)("div",{className:"text-xs text-neutral-600 mb-1",children:"Failed"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:s.stats.failedAgents})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-soft p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 mb-4",children:"Agent Queue"}),(0,r.jsx)(w,{agents:s.agentQueue,currentAgent:s.currentAgent})]})]}):(0,r.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-soft p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCA4"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"System Idle"}),(0,r.jsx)("p",{className:"text-neutral-600",children:"No active orchestration running. Waiting for execution..."}),(0,r.jsx)(y,{status:"idle",size:"lg"})]})})}var A=s(52619),O=s.n(A);function C(){return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[(0,r.jsx)("header",{className:"bg-white border-b border-neutral-200 sticky top-0 z-50 shadow-soft",children:(0,r.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(O(),{href:"/",className:"text-2xl font-bold text-primary-600 hover:text-primary-700 transition-colors",children:"MENDICANT"}),(0,r.jsx)("div",{className:"h-6 w-px bg-neutral-300"}),(0,r.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:"Real-Time Orchestration"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-accent-500 animate-pulse"}),(0,r.jsx)("span",{className:"text-xs font-medium text-neutral-600",children:"Live Stream"})]}),(0,r.jsx)(O(),{href:"/dashboard",className:"text-sm text-neutral-600 hover:text-primary-600 transition-colors font-medium",children:"Historical →"})]})]})})}),(0,r.jsx)("main",{className:"container mx-auto px-6 py-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("section",{className:"animate-fade-in",children:(0,r.jsx)(_,{})}),(0,r.jsx)("section",{className:"animate-fade-in",children:(0,r.jsx)(j,{})}),(0,r.jsx)("section",{className:"animate-fade-in",children:(0,r.jsx)(b,{})})]})}),(0,r.jsx)("footer",{className:"border-t border-neutral-200 mt-16 bg-white",children:(0,r.jsx)("div",{className:"container mx-auto px-6 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-neutral-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"font-medium",children:"MENDICANT v1.0"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{className:"text-xs",children:["SSE: ","http://localhost:3001/events"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(O(),{href:"/",className:"hover:text-primary-600 transition-colors",children:"Home"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)(O(),{href:"/dashboard",className:"hover:text-primary-600 transition-colors",children:"Historical"})]})]})})})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=10298)),_N_E=e.O()}]);